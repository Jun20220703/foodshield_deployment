<div class="page-layout">
  <!-- Sidebar -->
  <app-sidebar></app-sidebar>
  
  <!-- Main Content -->
  <div class="main-content">
    <div class="meal-planning-container">
      <!-- Calendar View Section -->
      <div class="calendar-section">
    <h2 class="section-title">Calendar View</h2>
    <div class="calendar-container">
      <div class="month-header">
        <button class="nav-arrow" (click)="previousMonth()">‚Äπ</button>
        <span class="month-name">{{ currentMonth }}</span>
        <button class="nav-arrow" (click)="nextMonth()">‚Ä∫</button>
      </div>
      
      <div class="week-days">
        <button class="week-nav-arrow left" (click)="previousDay()" title="Previous day">‚Äπ</button>
        <div class="day-column" *ngFor="let day of weekDays">
          <div class="day-card">
            <div class="day-header">
              <div class="day-name">{{ day.name }}</div>
              <div class="day-number">{{ day.date }}</div>
            </div>
            <div class="meal-slots">
              <div class="meal-slot" *ngFor="let meal of mealTypes">
                <div class="meal-indicator"></div>
                <div class="meal-name">{{ meal }}</div>
              </div>
            </div>
          </div>
        </div>
        <button class="week-nav-arrow right" (click)="nextDay()" title="Next day">‚Ä∫</button>
      </div>
    </div>
  </div>

  <!-- Current Inventory Section -->
  <div class="inventory-section">
    <div class="inventory-header">
      <h2 class="section-title">Current inventory</h2>
      <div class="search-filter-bar">
        <input 
          type="text" 
          class="search-input" 
          placeholder="Food item Name"
          [(ngModel)]="searchTerm"
          (input)="filterInventory()">
        <button class="search-btn" (click)="filterInventory()">
          <span class="search-icon">üîç</span>
        </button>
        <button class="filter-btn" (click)="toggleFilter()">
          <span class="filter-icon">‚ò∞</span>
        </button>
      </div>
    </div>

    <div class="inventory-container">
      <div class="table-headers">
        <div class="header-cell">Name</div>
        <div class="header-cell">Quantity</div>
        <div class="header-cell">Category</div>
        <div class="header-cell">Mark</div>
        <div class="header-cell">Expiry</div>
      </div>

      <div class="inventory-list">
        <div 
          class="inventory-item" 
          *ngFor="let item of filteredInventory; let i = index"
          [class.selected]="selectedItemIndex === i"
          (click)="selectItem(i)">
          <div class="item-name">{{ item.name }}</div>
          <div class="item-quantity">
            <span class="quantity-circle">{{ item.quantity }}</span>
          </div>
          <div class="item-category">
            <span class="category-badge" [class]="'category-' + item.category.toLowerCase()">
              <span class="category-icon">{{ getCategoryIcon(item.category) }}</span>
              {{ item.category }}
            </span>
          </div>
          <div class="item-mark">
            <span *ngIf="item.marked" class="marked-badge">
              <span class="checkmark">‚úì</span>
              Marked
            </span>
          </div>
          <div class="item-expiry">
            <span class="expiry-date">{{ item.expiry }}</span>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>
</div>

